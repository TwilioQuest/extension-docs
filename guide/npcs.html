<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Non Player Characters | TwilioQuest Extensions</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="https://www.twilio.com/quest/next/favicon.png">
    <meta name="description" content="Get started building new adventures in TwilioQuest.">
    <meta name="theme-color" content="#F22F46">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/extension-docs/assets/css/0.styles.a221b2e8.css" as="style"><link rel="preload" href="/extension-docs/assets/js/app.e3bf4fbe.js" as="script"><link rel="preload" href="/extension-docs/assets/js/2.6b0ea115.js" as="script"><link rel="preload" href="/extension-docs/assets/js/20.d0800fdd.js" as="script"><link rel="preload" href="/extension-docs/assets/js/12.5c820eec.js" as="script"><link rel="prefetch" href="/extension-docs/assets/js/10.139a2ef6.js"><link rel="prefetch" href="/extension-docs/assets/js/11.fabebe5d.js"><link rel="prefetch" href="/extension-docs/assets/js/13.c118d13c.js"><link rel="prefetch" href="/extension-docs/assets/js/14.9629b91b.js"><link rel="prefetch" href="/extension-docs/assets/js/15.5e22abf9.js"><link rel="prefetch" href="/extension-docs/assets/js/16.0e505a38.js"><link rel="prefetch" href="/extension-docs/assets/js/17.ddde8e8a.js"><link rel="prefetch" href="/extension-docs/assets/js/18.544e186f.js"><link rel="prefetch" href="/extension-docs/assets/js/19.c40e976d.js"><link rel="prefetch" href="/extension-docs/assets/js/21.9aefc00a.js"><link rel="prefetch" href="/extension-docs/assets/js/22.c47c41a4.js"><link rel="prefetch" href="/extension-docs/assets/js/23.e032e3d1.js"><link rel="prefetch" href="/extension-docs/assets/js/24.164a6ff2.js"><link rel="prefetch" href="/extension-docs/assets/js/25.f8bb4483.js"><link rel="prefetch" href="/extension-docs/assets/js/26.2014b524.js"><link rel="prefetch" href="/extension-docs/assets/js/27.70c438b2.js"><link rel="prefetch" href="/extension-docs/assets/js/28.a8e9017d.js"><link rel="prefetch" href="/extension-docs/assets/js/29.47ffb84f.js"><link rel="prefetch" href="/extension-docs/assets/js/3.2ee56fa4.js"><link rel="prefetch" href="/extension-docs/assets/js/30.9edf80ff.js"><link rel="prefetch" href="/extension-docs/assets/js/31.47863d3b.js"><link rel="prefetch" href="/extension-docs/assets/js/32.8829aae4.js"><link rel="prefetch" href="/extension-docs/assets/js/33.e4f037ff.js"><link rel="prefetch" href="/extension-docs/assets/js/34.6dd73882.js"><link rel="prefetch" href="/extension-docs/assets/js/35.586cb0dc.js"><link rel="prefetch" href="/extension-docs/assets/js/36.e1be6544.js"><link rel="prefetch" href="/extension-docs/assets/js/37.7183122c.js"><link rel="prefetch" href="/extension-docs/assets/js/38.c51a53b0.js"><link rel="prefetch" href="/extension-docs/assets/js/39.b375f348.js"><link rel="prefetch" href="/extension-docs/assets/js/4.e25ec24b.js"><link rel="prefetch" href="/extension-docs/assets/js/40.e3bb73a3.js"><link rel="prefetch" href="/extension-docs/assets/js/5.2b1691fc.js"><link rel="prefetch" href="/extension-docs/assets/js/6.460a94aa.js"><link rel="prefetch" href="/extension-docs/assets/js/7.a146d1b1.js"><link rel="prefetch" href="/extension-docs/assets/js/8.d510d5b6.js"><link rel="prefetch" href="/extension-docs/assets/js/9.35239a34.js">
    <link rel="stylesheet" href="/extension-docs/assets/css/0.styles.a221b2e8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/extension-docs/" class="home-link router-link-active"><!----> <span class="site-name">TwilioQuest Extensions</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/extension-docs/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/extension-docs/api/" class="nav-link">
  API Reference
</a></div><div class="nav-item"><a href="/extension-docs/examples/" class="nav-link">
  Examples
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/extension-docs/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/extension-docs/api/" class="nav-link">
  API Reference
</a></div><div class="nav-item"><a href="/extension-docs/examples/" class="nav-link">
  Examples
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/extension-docs/guide/" aria-current="page" class="sidebar-link">Getting Started</a></li><li><a href="/extension-docs/guide/architecture.html" class="sidebar-link">Architecture Overview</a></li><li><a href="/extension-docs/guide/levels.html" class="sidebar-link">Creating New Levels</a></li><li><a href="/extension-docs/guide/maps.html" class="sidebar-link">Editing Maps</a></li><li><a href="/extension-docs/guide/style-guide.html" class="sidebar-link">Using Tilesets: A Style Guide</a></li><li><a href="/extension-docs/guide/objectives.html" class="sidebar-link">Creating Objectives</a></li><li><a href="/extension-docs/guide/npcs.html" aria-current="page" class="active sidebar-link">Non Player Characters</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/extension-docs/guide/npcs.html#what-is-an-npc" class="sidebar-link">What is an NPC?</a></li><li class="sidebar-sub-header"><a href="/extension-docs/guide/npcs.html#what-is-a-conversation" class="sidebar-link">What is a conversation?</a></li><li class="sidebar-sub-header"><a href="/extension-docs/guide/npcs.html#creating-an-npc-and-conversation" class="sidebar-link">Creating an NPC and conversation</a></li><li class="sidebar-sub-header"><a href="/extension-docs/guide/npcs.html#voice-overs" class="sidebar-link">Voice Overs</a></li></ul></li><li><a href="/extension-docs/guide/events.html" class="sidebar-link">Event Scripting</a></li><li><a href="/extension-docs/guide/custom_objects.html" class="sidebar-link">Creating Custom Objects</a></li><li><a href="/extension-docs/guide/distribution.html" class="sidebar-link">Distributing Your Extension</a></li><li><a href="/extension-docs/guide/troubleshooting/" class="sidebar-link">Troubleshooting Tips and Guides</a></li></ul></section></li></ul> </aside> <main sidebar-items="[object Object]" class="page"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css"> <a target="_blank" href="http://github.com/TwilioQuest/extension-docs" data-ribbon="Contribute on GitHub" title="Contribute on GitHub" class="github-fork-ribbon left-bottom fixed">
    Contribute on GitHub
  </a> <div class="theme-default-content content__default"><h1 id="non-player-characters"><a href="#non-player-characters" class="header-anchor">#</a> Non Player Characters</h1> <div class="custom-block warning"><p class="custom-block-title">WIP ⚠️</p> <p>This guide is still a work in progress!</p></div> <h2 id="what-is-an-npc"><a href="#what-is-an-npc" class="header-anchor">#</a> What is an NPC?</h2> <p>Non Player Characters (NPCs) are entities that represent other characters besides the player that live in The Cloud. These characters have their own avatars and names to give them unique identities. The primary way that players interact with NPCs is via conversations.</p> <p><img src="/extension-docs/assets/img/npc_cedric_fog_owl.569bc3b1.png" alt="NPC Cedric standing in the Fog Owl cockpit"></p> <h2 id="what-is-a-conversation"><a href="#what-is-a-conversation" class="header-anchor">#</a> What is a conversation?</h2> <p>When a player uses their interaction button on an NPC a conversation screen will launch. It looks like the screen below, and has a few different parts. An entire conversation is composed of one or more of these screens in a row.</p> <p><img src="/extension-docs/assets/img/npc_cedric_conversation_screen.cc07bfc6.png" alt="NPC Cedric first conversation screen"></p> <h3 id="portrait"><a href="#portrait" class="header-anchor">#</a> Portrait</h3> <p>This is a close up picture of the NPC that is participating in the conversation. This image can be adjusted throughout the conversation to change the character's emotions.</p> <h3 id="statement"><a href="#statement" class="header-anchor">#</a> Statement</h3> <p>The text that the NPC is speaking to the player. This text uses HTML so it can be styled with highlights, italics, or other styles. If a character has voice over files, they'll be narrated to the player alongside this text.</p> <h3 id="display-name"><a href="#display-name" class="header-anchor">#</a> Display Name</h3> <p>This is the name of the NPC your player is conversing with. This is not tied to a specific conversation file, so it can change when a conversation is launched if needed.</p> <h3 id="reponses"><a href="#reponses" class="header-anchor">#</a> Reponses</h3> <p>This is a list of options the player receives for how they'd like to respond to the NPC they're talking to. When the player chooses a response, a new conversation screen displays and the conversation continues. Responses can be chosen by clicking or pressing the corresponding number.</p> <h3 id="response"><a href="#response" class="header-anchor">#</a> Response</h3> <p>Every individual response is best constructed as a short line of text from the perspective of the player speaking.</p> <h3 id="end-conversation-response"><a href="#end-conversation-response" class="header-anchor">#</a> End Conversation Response</h3> <p>At the end of every conversation screen's responses, an <code>&lt;end conversation&gt;</code> response option is appended. If this option is chosen then the conversation will be terminated.</p> <h2 id="creating-an-npc-and-conversation"><a href="#creating-an-npc-and-conversation" class="header-anchor">#</a> Creating an NPC and conversation</h2> <p>There are two main aspects to creating an NPC that a player interacts with in TwilioQuest, the object itself and its conversation file(s).</p> <h3 id="creating-the-npc-object"><a href="#creating-the-npc-object" class="header-anchor">#</a> Creating the NPC object</h3> <p>An NPC object is a <a href="/extension-docs/api/objects.html#non-player-characters-npcs">built-in TwilioQuest object</a> with a special property that corresponds to a conversation name.</p> <p>An NPC object can be placed into a level of TwilioQuest like any other game object. Check out the <a href="/extension-docs/guide/maps.html">guide on map editing</a> to learn more.</p> <h3 id="create-a-conversation-file"><a href="#create-a-conversation-file" class="header-anchor">#</a> Create a conversation file</h3> <p>The conversation file contains all of the information needed to describe the sequences of conversation screens a player will navigate through while talking to an NPC.</p> <p>The name of this file base name is important. Conventionally, we title these after the name of the NPC that will speak the file. If an NPC has more than one conversation file, we'd called them something like <code>cedric_welcome</code> and <code>cedric_congratulations</code>.</p> <h3 id="conversation-html"><a href="#conversation-html" class="header-anchor">#</a> Conversation HTML</h3> <p>TwilioQuest conversations are created using <a href="/extension-docs/api/conversations.html#conversation-html">Conversation HTML</a>. Conversation HTML is made of a variety of tags that describe a conversation screen. If you look at the list of <a href="/extension-docs/api/conversations.html#conversation-tags">conversation tags</a> in the API documentation you'll see they correspond to the sections of <a href="/extension-docs/guide/npcs.html#what-is-a-conversation">the conversation screen above</a>.</p> <h3 id="playing-a-conversation"><a href="#playing-a-conversation" class="header-anchor">#</a> Playing a conversation</h3> <p>There are a couple different ways to launch into a conversation.</p> <h4 id="link-a-conversation-file-in-tiled"><a href="#link-a-conversation-file-in-tiled" class="header-anchor">#</a> Link a conversation file in Tiled</h4> <p>Use the <code>conversation</code> property of an <a href="/extension-docs/api/objects.html#non-player-characters-npcs">NPC object</a> in Tiled and set it to the basename of the conversation file you want to play when a player interacts with that NPC.</p> <h4 id="use-the-world-api-to-dynamically-converse"><a href="#use-the-world-api-to-dynamically-converse" class="header-anchor">#</a> Use the world API to dynamically converse</h4> <p>You can dynamically play conversations using the <a href="/extension-docs/api/events.html#startconversation">startConversation</a> function on the world API inside of a custom object or events.js file.</p> <h2 id="voice-overs"><a href="#voice-overs" class="header-anchor">#</a> Voice Overs</h2> <p>Voice over files are pulled from the <code>vo</code> directory inside of a level's <code>conversations</code> directory.</p> <p>Each statement in a conversation file should have it's own voice over audio file. When a statement is &quot;spoken&quot; by an NPC conversation partner, TwilioQuest will look up the appropriate audio file.</p> <p>TwilioQuest uses the conversation file name and statement id to look up voice over audio files. The basename of the file and the id of the statement are concatenated with an underscore.</p> <p>For example:</p> <p><code>levels/cool_level/conversations/cool_npc.pug</code></p> <div class="language-pug extra-class"><pre class="language-pug"><code><span class="token tag">conversation</span>
  <span class="token tag">statement<span class="token attr-id">#cool_speech</span></span>
    <span class="token tag">responses</span>

  <span class="token tag">statements</span>
    <span class="token tag">statement<span class="token attr-id">#cool_speech</span></span>
      <span class="token tag">text</span><span class="token punctuation">.</span><span class="token multiline-plain-text">
        I have a cool thing to say!</span>
</code></pre></div><p>For the statement <code>id</code>'d as <code>cool_speech</code> given by the <code>cool_npc</code> conversation we would find the voice over audio file at the following file path:</p> <p><code>levels/cool_level/conversation/vo/cool_npc_cool_speech.mp3</code></p></div></main></div><div class="global-ui"></div></div>
    <script src="/extension-docs/assets/js/app.e3bf4fbe.js" defer></script><script src="/extension-docs/assets/js/2.6b0ea115.js" defer></script><script src="/extension-docs/assets/js/20.d0800fdd.js" defer></script><script src="/extension-docs/assets/js/12.5c820eec.js" defer></script>
  </body>
</html>
