(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{385:function(e,t,a){"use strict";a.r(t);var s=a(45),o=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"load-relative-images-in-objective-markdown-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#load-relative-images-in-objective-markdown-files"}},[e._v("#")]),e._v(" Load relative images in Objective markdown files")]),e._v(" "),a("p",[a("em",[e._v("Published: 1/11/2022 for TQ Version: 3.2.5")])]),e._v(" "),a("p",[e._v('TwilioQuest is a web app wrapped in Electron and running on your computer. There are bundled images files we "host" in this local web app we host in the '),a("code",[e._v("public")]),e._v(" directory of our build. If you investigate the build files you can probably find it.")]),e._v(" "),a("p",[e._v("Like most web servers, relative paths are relative to this "),a("code",[e._v("public")]),e._v(" folder. This is handy if you have access to that folder (AKA are a TwilioQuest developer).")]),e._v(" "),a("p",[e._v("If you're trying to load an image from an extension though, this is more complicated. There's not a method to add your images to the root bundled public folder.")]),e._v(" "),a("p",[e._v("Instead, you'll need an absolute path to the image you'd like to display. You can do this on your own computer reliably since you know how all your folders are setup.")]),e._v(" "),a("p",[e._v("To make this reliable on another person's computer we'll need to learn about how TwilioQuest renders objective markdown. TwilioQuest uses "),a("a",{attrs:{href:"https://ejs.co/",target:"_blank",rel:"noopener noreferrer"}},[e._v("EJS"),a("OutboundLink")],1),e._v(" to convert your markdown files into displayable HTML. This means that you can use EJS's scripting API to dynamically format your document.")]),e._v(" "),a("p",[e._v("TwilioQuest provides a few values in the EJS context. One of these is the "),a("code",[e._v("resolveAbsolutePath")]),e._v(" function. If you give it a path string relative to the root of your extension, it will resolve it at render time to an absolute path. This function will also respect the extension override ordering.")]),e._v(" "),a("p",[e._v("This code snippet creates a variable called "),a("code",[e._v("imagePath")]),e._v(" with a path to an image in the extension. It then uses the "),a("code",[e._v("<%=")]),e._v(" syntax from EJS to set the value into the HTML document. Be sure not to miss the "),a("code",[e._v("=")]),e._v("!")]),e._v(" "),a("div",{staticClass:"language-ejs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ejs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[e._v("<%")]),a("span",{pre:!0,attrs:{class:"token language-javascript"}},[e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" imagePath "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("await")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("resolveAbsolutePath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"levels/vr_mission_template/images/shield.png"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" ")]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[e._v("%>")])]),e._v("\n\n![shield image]("),a("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[e._v("<%=")]),a("span",{pre:!0,attrs:{class:"token language-javascript"}},[e._v(" imagePath ")]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[e._v("%>")])]),e._v(")\n")])])])])}),[],!1,null,null,null);t.default=o.exports}}]);