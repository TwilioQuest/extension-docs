<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>How to check if a player is holding an item | TwilioQuest Extensions</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="https://www.twilio.com/quest/next/favicon.png">
    <meta name="description" content="Get started building new adventures in TwilioQuest.">
    <meta name="theme-color" content="#F22F46">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/extension-docs/assets/css/0.styles.a221b2e8.css" as="style"><link rel="preload" href="/extension-docs/assets/js/app.c0818f26.js" as="script"><link rel="preload" href="/extension-docs/assets/js/2.fd243e3f.js" as="script"><link rel="preload" href="/extension-docs/assets/js/15.892ac1c6.js" as="script"><link rel="preload" href="/extension-docs/assets/js/24.32dbc3f6.js" as="script"><link rel="prefetch" href="/extension-docs/assets/js/10.39d32741.js"><link rel="prefetch" href="/extension-docs/assets/js/11.684115fc.js"><link rel="prefetch" href="/extension-docs/assets/js/12.4f5ddf23.js"><link rel="prefetch" href="/extension-docs/assets/js/13.d5ff8572.js"><link rel="prefetch" href="/extension-docs/assets/js/14.61dc16af.js"><link rel="prefetch" href="/extension-docs/assets/js/16.2f2b8759.js"><link rel="prefetch" href="/extension-docs/assets/js/17.167d7af2.js"><link rel="prefetch" href="/extension-docs/assets/js/18.15844322.js"><link rel="prefetch" href="/extension-docs/assets/js/19.d60ac699.js"><link rel="prefetch" href="/extension-docs/assets/js/20.be11cd7b.js"><link rel="prefetch" href="/extension-docs/assets/js/21.4e03b6a7.js"><link rel="prefetch" href="/extension-docs/assets/js/22.6e89efbf.js"><link rel="prefetch" href="/extension-docs/assets/js/23.99fdacde.js"><link rel="prefetch" href="/extension-docs/assets/js/25.403987c5.js"><link rel="prefetch" href="/extension-docs/assets/js/26.12bff3bb.js"><link rel="prefetch" href="/extension-docs/assets/js/27.2b421d22.js"><link rel="prefetch" href="/extension-docs/assets/js/28.716270df.js"><link rel="prefetch" href="/extension-docs/assets/js/29.74472b85.js"><link rel="prefetch" href="/extension-docs/assets/js/3.3a930c5a.js"><link rel="prefetch" href="/extension-docs/assets/js/30.8b0c5139.js"><link rel="prefetch" href="/extension-docs/assets/js/4.65d9b0a9.js"><link rel="prefetch" href="/extension-docs/assets/js/5.ddc95158.js"><link rel="prefetch" href="/extension-docs/assets/js/6.f3a96fb9.js"><link rel="prefetch" href="/extension-docs/assets/js/7.0ede63ba.js"><link rel="prefetch" href="/extension-docs/assets/js/8.ea3664ab.js"><link rel="prefetch" href="/extension-docs/assets/js/9.8b29bc15.js">
    <link rel="stylesheet" href="/extension-docs/assets/css/0.styles.a221b2e8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/extension-docs/" class="home-link router-link-active"><!----> <span class="site-name">TwilioQuest Extensions</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/extension-docs/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/extension-docs/api/" class="nav-link">
  API Reference
</a></div><div class="nav-item"><a href="/extension-docs/examples/" class="nav-link router-link-active">
  Examples
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/extension-docs/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/extension-docs/api/" class="nav-link">
  API Reference
</a></div><div class="nav-item"><a href="/extension-docs/examples/" class="nav-link router-link-active">
  Examples
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Examples</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/extension-docs/examples/" aria-current="page" class="sidebar-link">Examples</a></li><li><a href="/extension-docs/examples/check-player-holding-item.html" aria-current="page" class="active sidebar-link">How to check if a player is holding an item</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/extension-docs/examples/check-player-holding-item.html#checking-player-loadout" class="sidebar-link">Checking player loadout</a></li></ul></li><li><a href="/extension-docs/examples/load-relative-images.html" class="sidebar-link">Load relative images in Objective markdown files</a></li></ul></section></li></ul> </aside> <main sidebar-items="[object Object]" class="page"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css"> <a target="_blank" href="http://github.com/TwilioQuest/extension-docs" data-ribbon="Contribute on GitHub" title="Contribute on GitHub" class="github-fork-ribbon left-bottom fixed">
    Contribute on GitHub
  </a> <div class="theme-default-content content__default"><h1 id="how-to-check-if-a-player-is-holding-an-item"><a href="#how-to-check-if-a-player-is-holding-an-item" class="header-anchor">#</a> How to check if a player is holding an item</h1> <p><em>Published: 1/11/2022 for TQ Version: 3.2.4</em></p> <p>TwilioQuest has a central &quot;context&quot; that holds most of the data the game uses. You can see a lot of this data saved in your <a href="https://community.twilio.com/twilioquest/discussion/51/troubleshooting-tips" target="_blank" rel="noopener noreferrer">save filed <code>config.json</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>There are <code>getContext</code> and <code>setContext</code> functions attached to the <a href="/extension-docs/api/events.html#world-api">world</a> object that allow you to get and set these values. Look at this save file to get an idea of the properties you can use.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Working with the context APIs tightly couples your extension to the internals of TwilioQuest. This may mean that your extension requires code fixes to keep working with future versions of TwilioQuest.</p></div> <h2 id="checking-player-loadout"><a href="#checking-player-loadout" class="header-anchor">#</a> Checking player loadout</h2> <p>This is an example <code>events.js</code> file. It gets the current <code>loadout</code> context when the player interacts with an object with the <code>key</code> property <code>&quot;test&quot;</code>. You could trigger this logic on any event you wished.</p> <p>The <code>loadout</code> object can have a property for each part of a player's equipment slot. If no items are equipped, any of these properties could be missing or set to <code>null</code>.</p> <ul><li><code>head</code></li> <li><code>body</code></li> <li><code>hand1</code></li> <li><code>hand2</code></li> <li><code>accessory1</code></li> <li><code>accessory2</code></li> <li><code>legs</code></li> <li><code>feet</code></li></ul> <p>In this example, we're checking for the <code>body</code> property. Since it may be missing or null, we <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining" target="_blank" rel="noopener noreferrer">use JavaScript's optional chaining<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to avoid a potential error.</p> <p>If the name of the equipped object is the key <code>tshirt</code>, we show a notification. This snippet also logs the loadout object so you can inspect that data.</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> world</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">&quot;playerDidInteract&quot;</span> <span class="token operator">&amp;&amp;</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>key <span class="token operator">===</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> loadout <span class="token operator">=</span> world<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;loadout&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>loadout<span class="token punctuation">.</span>body<span class="token operator">?.</span>name <span class="token operator">===</span> <span class="token string">&quot;tshirt&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      world<span class="token punctuation">.</span><span class="token function">showNotification</span><span class="token punctuation">(</span><span class="token string">&quot;I'm wearing a t shirt!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span> loadout <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div></main></div><div class="global-ui"></div></div>
    <script src="/extension-docs/assets/js/app.c0818f26.js" defer></script><script src="/extension-docs/assets/js/2.fd243e3f.js" defer></script><script src="/extension-docs/assets/js/15.892ac1c6.js" defer></script><script src="/extension-docs/assets/js/24.32dbc3f6.js" defer></script>
  </body>
</html>
